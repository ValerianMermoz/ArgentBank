{"ast":null,"code":"export const login = (email, password) => {\n  return async dispatch => {\n    try {\n      const response = await fetch('http://localhost:3001/api/v1/user/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          email,\n          password\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const token = data.body.token;\n        dispatch({\n          type: 'LOGIN',\n          payload: {\n            token\n          }\n        });\n      } else {\n        console.log(\"Erreur de la connexion. Statut de réponse:\", response.status);\n      }\n    } catch (error) {\n      console.log(\"Erreur interne\");\n    }\n  };\n};\nexport const logout = () => {\n  return {\n    type: 'LOGOUT'\n  };\n};","map":{"version":3,"names":["login","email","password","dispatch","response","fetch","method","body","JSON","stringify","headers","ok","data","json","token","type","payload","console","log","status","error","logout"],"sources":["C:/Users/valer/GitHub/ArgentBank-website-main/Front/src/auth.service.js"],"sourcesContent":["export const login = (email, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await fetch('http://localhost:3001/api/v1/user/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ email, password }),\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const token = data.body.token;\r\n        \r\n        dispatch({\r\n          type: 'LOGIN',\r\n          payload: { token }\r\n        });\r\n      } else { console.log(\"Erreur de la connexion. Statut de réponse:\", response.status);\r\n      }\r\n    } catch (error) { console.log(\"Erreur interne\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return { type: 'LOGOUT' };\r\n};"],"mappings":"AAAA,OAAO,MAAMA,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;EACxC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;QACtEC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,KAAK;UAAEC;QAAS,CAAC,CAAC;QACzCQ,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAChD,CAAC,CAAC;MAEF,IAAIN,QAAQ,CAACO,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAClC,MAAMC,KAAK,GAAGF,IAAI,CAACL,IAAI,CAACO,KAAK;QAE7BX,QAAQ,CAAC;UACPY,IAAI,EAAE,OAAO;UACbC,OAAO,EAAE;YAAEF;UAAM;QACnB,CAAC,CAAC;MACJ,CAAC,MAAM;QAAEG,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEd,QAAQ,CAACe,MAAM,CAAC;MACnF;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAEH,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC/C;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMG,MAAM,GAAGA,CAAA,KAAM;EAC1B,OAAO;IAAEN,IAAI,EAAE;EAAS,CAAC;AAC3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}